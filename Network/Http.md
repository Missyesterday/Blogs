# HTTP

## HTTP 和 HTTPS

### HTTP 和 HTTPS 的区别

-   HTTP 是超文本传输协议，信息是明文传输，存在安全风险的问题。HTTP 则解决了 HTTP 不安全的缺陷，在 TCP 和 HTTP 网络层之间加入了 SSL/TLS 安全协议，使得报文能够加密传输。
-   HTTP 的连接相对简单，而 HTTPS 在 TCP 三次握手之后，还需要进行 SSL/TLS的握手过程，才可以进入加密报文传输。
-   HTTP 的默认端口号是 80，HTTPS 是 443
-   HTTPS 需要向 CA（证书权威机构）申请数字证书，来保证服务器的身份是可信的。

### HTTPS 解决了什么区别

HTTP 是明文传输，所以安全上存在如下风险：

-   **窃听风险，**例如在通信链路上获取用户通信内容
-   **篡改风险，**强制植入广告
-   **冒充风险，**冒充淘宝网站



HTTPS 在 HTTP 和 TCP 之间加入了`SSL/TLS`协议，可以很好解决上述问题：

-   **信息加密：**交互信息无法被窃取。使用**混合加密**。
-   **校验机制：**无法篡改通信内容。使用**摘要算法**来实现**完整性**，为数据生成独一无二的「指纹」，指纹用于校验数据的完整性。
-   **身份证书：**证明淘宝网是真的淘宝网，将服务器的**公钥**放入数字证书中，解决了冒充的风险。

### 混合加密

<img src="https://raw.githubusercontent.com/Missyesterday/picgo/main/picgo/image-20230911004510102.png" alt="image-20230911004510102" style="zoom:50%;" />

使用**混合加密**的方式可以保证信息的**机密性**，解决了窃听的风险。所谓「混合加密」，就是「对称加密」和「非对称加密」的结合：

-   在通信建立前采用**非对称加密**的方式交换「会话密钥」，后续就不再使用非对称加密
-   在通信过程中全部使用**对称加密**的「会话密钥」的方式加密明文数据

采用「混合加密」的原因：

-   **对称加密**只使用一个密钥，运算速度快，密钥必须保密，无法做到安全的密钥交换
-   **非对称加密**使用两个密钥：公钥和私钥，公钥可以任意分发而私钥保密，解决了密钥交换问题但是速度慢。



### 摘要算法+数字签名

为了保证传输的内容不背修改，我们需要对内容计算出一个「指纹」，然后同内容一起传输给对方。对方收到后，对内容也计算出一个「指纹」并对比发送方的「指纹」，如果相同，则证明内容没有被篡改，否则内容被篡改。

摘要算法就是使用哈希函数。

### 数字证书

前面我们知道：